#!/usr/bin/env bash
# by Patrick Wyatt
# Create a ruby project with named gemset using RVM; initialize git

set -o errexit  # crash on error

PROJECT=$1


if [ -z $PROJECT ]
then
    echo "Usage: $0 PROJECT-NAME"
    exit
fi

if [ -d $PROJECT ]
then
    echo "A project directory named '$PROJECT' already exists in `pwd`"
    exit
fi

# make project directory
mkdir -p ~/dev/$PROJECT
cd ~/dev/$PROJECT

# create rvm gemset
rvm use --create --rvmrc 1.9.2@$PROJECT

# prep for source control
git init

# success!
echo "Created project '$PROJECT'"
